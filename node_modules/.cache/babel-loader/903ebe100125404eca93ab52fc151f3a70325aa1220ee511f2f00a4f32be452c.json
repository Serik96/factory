{"ast":null,"code":"import axios from \"axios\";\nimport './photoPage.scss';\nimport { mapState } from 'vuex';\nexport default {\n  name: 'photoPage',\n  props: {\n    id: String\n  },\n  data() {\n    return {\n      photoData: {}\n    };\n  },\n  computed: {\n    ...mapState(['favorites']),\n    isFavorite() {\n      return this.favorites.some(photo => photo.id === this.photoData.id);\n    }\n  },\n  methods: {\n    downloadImage() {\n      const imageUrl = this.photoData.urls?.regular;\n      const link = document.createElement('a');\n      link.href = imageUrl;\n      link.download = 'downloaded_image.jpg';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    },\n    toggleFavorite() {\n      if (this.isFavorite) {\n        this.$store.commit('removeFromFavorites', this.photoData);\n      } else {\n        this.$store.commit('addToFavorites', this.photoData);\n      }\n    }\n  },\n  created() {\n    axios.get(`https://api.unsplash.com/photos/${this.id}?client_id=IjwLrN04z7hqo9HxnFDYh183gM3GYSbjdFtf0SLd-pk`).then(response => {\n      this.photoData = response.data;\n      console.log(this.photoData);\n    }).catch(error => {\n      console.error('Ошибка при загрузке данных', error);\n    });\n  }\n};","map":{"version":3,"names":["axios","mapState","name","props","id","String","data","photoData","computed","isFavorite","favorites","some","photo","methods","downloadImage","imageUrl","urls","regular","link","document","createElement","href","download","body","appendChild","click","removeChild","toggleFavorite","$store","commit","created","get","then","response","console","log","catch","error"],"sources":["C:\\Users\\Adlet\\Desktop\\vue js практика\\factory\\src\\pages\\PhotoPage\\PhotoPage.vue"],"sourcesContent":["<template>\r\n    <div class=\"photoPage\">\r\n        <div class=\"photoPage-bcg\"></div>\r\n        <div class=\"photoPage-wrapper\">\r\n            <div class=\"photoPage-info__left\">\r\n                <img :src=\"photoData.user?.profile_image?.medium\" width=\"55px\" height=\"55px\" class=\"photoPage-avatar\"/>\r\n                <div class=\"photoPage-descr\">\r\n                    <div class=\"photoPage-title\">{{ photoData.user?.name}}</div>\r\n                    <div class=\"photoPage-author\">@{{  photoData.user?.username }}</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"photoPage-info__right\">\r\n                <button class=\"favorite-btn\" @click=\"toggleFavorite\" :class=\"{ 'favorite-active': isFavorite }\">\r\n                    <img src=\"../../assets/icons/favorites_white.svg\" width=\"49px\" height=\"49px\"/>\r\n                </button>\r\n                <button  class=\"download-btn\" @click=\"downloadImage\">\r\n                    <img src=\"../../assets/icons/download.svg\" width=\"26px\" height=\"26px\"/>\r\n                    <span>Downloand</span>\r\n                </button>\r\n            </div>\r\n            <div class=\"photoPage-image\">\r\n                <img :src=\"photoData.urls?.regular\" alt=\"Image\">\r\n            </div>\r\n        </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n    import axios from \"axios\";\r\n    import './photoPage.scss'\r\n    import { mapState } from 'vuex';\r\n\r\n    export default {\r\n        name: 'photoPage',\r\n        props: {\r\n            id: String,\r\n        },\r\n        data() {\r\n            return {\r\n                photoData: {},\r\n            };\r\n        },\r\n        computed: {\r\n            ...mapState(['favorites']),\r\n            isFavorite() {\r\n                return this.favorites.some((photo) => photo.id === this.photoData.id);\r\n            },\r\n        },\r\n        methods: {\r\n            downloadImage() {\r\n                const imageUrl = this.photoData.urls?.regular;\r\n\r\n                const link = document.createElement('a');\r\n                link.href = imageUrl;\r\n                link.download = 'downloaded_image.jpg';\r\n                document.body.appendChild(link);\r\n                link.click();\r\n                document.body.removeChild(link);\r\n            },\r\n            toggleFavorite() {\r\n                if (this.isFavorite) {\r\n                    this.$store.commit('removeFromFavorites', this.photoData);\r\n                } else {\r\n                    this.$store.commit('addToFavorites', this.photoData);\r\n                }\r\n            }\r\n        },\r\n        created() {\r\n            axios.get(`https://api.unsplash.com/photos/${this.id}?client_id=IjwLrN04z7hqo9HxnFDYh183gM3GYSbjdFtf0SLd-pk`)\r\n            .then(response => {\r\n                this.photoData = response.data;\r\n                console.log(this.photoData)\r\n            })\r\n            .catch(error => {\r\n                console.error('Ошибка при загрузке данных', error);\r\n            });\r\n        },\r\n    };\r\n  </script>"],"mappings":"AA4BI,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAO,kBAAiB;AACxB,SAASC,QAAO,QAAS,MAAM;AAE/B,eAAe;EACXC,IAAI,EAAE,WAAW;EACjBC,KAAK,EAAE;IACHC,EAAE,EAAEC;EACR,CAAC;EACDC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,SAAS,EAAE,CAAC;IAChB,CAAC;EACL,CAAC;EACDC,QAAQ,EAAE;IACN,GAAGP,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC;IAC1BQ,UAAUA,CAAA,EAAG;MACT,OAAO,IAAI,CAACC,SAAS,CAACC,IAAI,CAAEC,KAAK,IAAKA,KAAK,CAACR,EAAC,KAAM,IAAI,CAACG,SAAS,CAACH,EAAE,CAAC;IACzE;EACJ,CAAC;EACDS,OAAO,EAAE;IACLC,aAAaA,CAAA,EAAG;MACZ,MAAMC,QAAO,GAAI,IAAI,CAACR,SAAS,CAACS,IAAI,EAAEC,OAAO;MAE7C,MAAMC,IAAG,GAAIC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;MACxCF,IAAI,CAACG,IAAG,GAAIN,QAAQ;MACpBG,IAAI,CAACI,QAAO,GAAI,sBAAsB;MACtCH,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,IAAI,CAAC;MAC/BA,IAAI,CAACO,KAAK,CAAC,CAAC;MACZN,QAAQ,CAACI,IAAI,CAACG,WAAW,CAACR,IAAI,CAAC;IACnC,CAAC;IACDS,cAAcA,CAAA,EAAG;MACb,IAAI,IAAI,CAAClB,UAAU,EAAE;QACjB,IAAI,CAACmB,MAAM,CAACC,MAAM,CAAC,qBAAqB,EAAE,IAAI,CAACtB,SAAS,CAAC;MAC7D,OAAO;QACH,IAAI,CAACqB,MAAM,CAACC,MAAM,CAAC,gBAAgB,EAAE,IAAI,CAACtB,SAAS,CAAC;MACxD;IACJ;EACJ,CAAC;EACDuB,OAAOA,CAAA,EAAG;IACN9B,KAAK,CAAC+B,GAAG,CAAE,mCAAkC,IAAI,CAAC3B,EAAG,wDAAuD,EAC3G4B,IAAI,CAACC,QAAO,IAAK;MACd,IAAI,CAAC1B,SAAQ,GAAI0B,QAAQ,CAAC3B,IAAI;MAC9B4B,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC5B,SAAS;IAC9B,CAAC,EACA6B,KAAK,CAACC,KAAI,IAAK;MACZH,OAAO,CAACG,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IACtD,CAAC,CAAC;EACN;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}